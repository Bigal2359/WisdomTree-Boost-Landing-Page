/*! gravy v0.0.11 May 11, 2016 10:51:47 AM */
var gravy={version:"0.0.3",namespace:function(ns){"use strict";var parts="string"==typeof ns?ns.split("."):[],obj=this,i=0,l=parts.length;for(i;l>i;i++)obj[parts[i]]||(obj[parts[i]]={}),obj=obj[parts[i]]},konami:function(callback){"use strict";var flag,d=document,ret=!0,keys=[],konami="38,38,40,40,37,39,37,39,66,65",kCode=function(e){e&&e.keyCode&&(keys.push(e.keyCode),10===keys.length&&(keys.toString()===konami&&(flag?d.removeEventListener("keyup",kCode,!1):d.detachEvent("onkeyup",kCode),callback()),keys.shift()))};return"function"==typeof callback?d.addEventListener?(flag=!0,d.addEventListener("keyup",kCode,!1)):d.attachEvent?(flag=!1,d.attachEvent("onkeyup",kCode)):ret=!1:ret=!1,ret}},gny=gny||gravy;gravy.namespace("cookies"),gravy.cookies.version="0.0.2",gravy.cookies.get=function(name){"use strict";var c,m,ca=document.cookie.split(";"),i=ca.length-1,r=!1;for(name+="=",i;i>-1;i--)if(c=ca[i],m=c.indexOf(name),-1!==m){r=c.substring(m+name.length,c.length);break}return r},gravy.cookies.set=function(name,value,expires,path,domain,secure){"use strict";var expDate,d=document;return expires?(expDate=new Date,expDate.setTime(expDate.getTime()+24*expires*60*60*1e3),expires="; expires="+expDate.toGMTString()):expires="",path="; path="+(path?path:"/"),domain=domain?"; domain="+domain:"",secure=secure?"; secure":"",d.cookie=name+"="+value+expires+path+domain+secure,!0},gravy.cookies.remove=function(name,path,domain){"use strict";return this.set(name,"",-1,path,domain)},gravy.localStorage=function(){"use strict";try{if("localStorage"in window&&null!==window.localStorage)return localStorage;throw new Error}catch(err){return{length:0,hasOwnProperty:function(key){return new RegExp("(?:^|;\\s*)"+key+"\\s*\\=").test(document.cookie)},setItem:function(key,value){key&&(gravy.cookies.set(key,value,3650,"/"),this.length++)},getItem:function(key){var ret;return ret=key&&this.hasOwnProperty(key)?gravy.cookies.get(key,"/"):null},removeItem:function(key){key&&this.hasOwnProperty(key)&&gravy.cookies.remove(key),this.length--}}}}(),gravy.sessionStorage=function(){"use strict";try{if("sessionStorage"in window&&null!==window.sessionStorage)return sessionStorage;throw new Error}catch(err){return{length:0,hasOwnProperty:function(key){return new RegExp("(?:^|;\\s*)"+key+"\\s*\\=").test(document.cookie)},setItem:function(key,value){key&&(gravy.cookies.set(key,value,!1,"/"),this.length++)},getItem:function(key){var ret;return ret=key&&this.hasOwnProperty(key)?gravy.cookies.get(key,"/"):null},removeItem:function(key){key&&this.hasOwnProperty(key)&&gravy.cookies.remove(key),this.length--}}}}(),gravy.namespace("queryString"),gravy.queryString.version="0.0.4",gravy.queryString.get=function(name){"use strict";var v,m,s,qs=document.location.search.substring(1).split("&"),i=qs.length-1,r=!1;for(name=encodeURIComponent(name)+"=",i;i>-1;i--)if(v=qs[i],m=v.indexOf(name),-1!==m){s=v.substring(m+name.length,v.length);try{r=decodeURIComponent(s)}catch(e){r=s}break}return r},gravy.namespace("querystring"),gravy.querystring=gravy.queryString,gravy.env=function(){"use strict";var host=window.location.hostname,qs=gravy.queryString.get("env"),c=gravy.cookies.get("env"),ret="prod";return qs?(ret=qs,gravy.cookies.set("env",qs)):c?ret=c:"localhost"===host?ret="dev":host.search(/^stage-\w+\.cp-access\.com$/)>-1?ret="stage":host.search(/^authoring-\w+\.cp-access\.com$/)>-1&&(ret="authoring"),ret}(),gravy.namespace("events"),gravy.events.version="0.0.3",gravy.events.transitionEnd=function(){"use strict";var ret="transitionend",alts=["transitionend","oTransitionEnd","otransitionend","webkitTransitionEnd"],i=alts.length-1;for(i;i>-1;i--)if("on"+alts[i].toLowerCase()in window){ret=alts[i];break}return ret}(),gravy.events.transitionend=gravy.events.transitionEnd,gravy.modals=function(d,$){"use strict";var modalsShowing={},$dom={d:$(d),overlay:$("#modal-overlay")},overlay={resize:function(){$dom.overlay.height($dom.d.height())},show:function(){this.resize(),$dom.overlay.show()},hide:function(){$dom.overlay.hide()}},prepModals=function(that,$modal){$modal.css("marginTop","-"+($modal.height()/2+10)+"px"),$modal.find(".btn-cancel, .btn-close").on("click.modal",that.hide)};return $dom.overlay.on("click.modal",function(){var key;for(key in modalsShowing)modalsShowing.hasOwnProperty(key)&&modalsShowing[key].hide();overlay.hide()}),$(window).on("resize",function(){overlay.resize()}),{Modal:function(id,callback){var $modal,showing=!1;$modal=jQuery("string"==typeof id?"#"+id:id),this.show=function(){overlay.show(),!1===showing&&(modalsShowing[id]=this),callback&&callback(this,$modal),$modal.show(),showing=!0},this.hide=function(){delete modalsShowing[id],$modal.hide(),showing=!1,overlay.hide()},this.data={},prepModals(this,$modal)},router:function(href,type){"external"===type?window.open(href):document.location=href},handleExternalLinks:function(modal,$modal){var d=modal.data;d.cache||(d.cache=!0,$modal.find(".btn-primary").on("click.modal",function(){gravy.modals.router(d.href,"external"),modal.hide()}))},externalLinks:function(callback){var cb=callback||this.handleExternalLinks,modal=new this.Modal("modal-link-external",cb);$(".js-inter-out").on("click.modal",function(e){e.preventDefault(),modal.data.href=e.target.href,modal.show()})}}}(document,jQuery),gravy.namespace("analytics"),gravy.analytics.version="0.0.4",gravy.analytics.trackClicks=function($){"use strict";var useDefaults=function(data,defaults){var i=0,l=data.length;for(i;l>i;i++)data[i]=$.extend({},defaults,data[i]);return data},objToArray=function(data){var key,ret=[];for(key in data)data.hasOwnProperty(key)&&!1!==data[key]&&(ret.push(key),ret.push(data[key]));return ret},prepOpts=function(data){return"undefined"==typeof data.length?[data]:void 0},trackClick=function(e){var key,params,now,stop,data=e.data,linkType=$(this).attr("target"),i=0,l=data.length;if("undefined"==typeof data.length){for(key in data)if(data.hasOwnProperty(key)&&$(this).hasClass(key))for(i=0,l=data[key].length,i;l>i;i++)if(params=objToArray(data[key][i]),dcsMultiTrack.apply(null,params),"_blank"!==linkType)for(now=new Date,stop=now.getTime()+100;now.getTime()<stop;)now=new Date}else for(i;l>i;i++)if(params=objToArray(data[i]),dcsMultiTrack.apply(null,params),"_blank"!==linkType)for(now=new Date,stop=now.getTime()+100;now.getTime()<stop;)now=new Date};return function(clicksToTrack,defaults){var l,cond,key,opts,i=0;for(defaults=defaults||this.clicksDefault||{},clicksToTrack=clicksToTrack||this.clicksToTrack||[],l=clicksToTrack.length,i;l>i;i++)if(cond=clicksToTrack[i].cond){for(key in cond)cond.hasOwnProperty(key)&&(cond[key]=prepOpts(cond[key]),cond[key]=useDefaults(cond[key],defaults));$(clicksToTrack[i].sel).on("click.gravy.analytics",cond,trackClick)}else opts=clicksToTrack[i].opts,opts&&"undefined"==typeof opts.length&&(opts=[opts]),opts=useDefaults(opts,defaults),$(clicksToTrack[i].sel).on("click.gravy.analytics",opts,trackClick)}}(jQuery),gravy.analytics.untrackClicks=function($){"use strict";return function(clicksToUntrack){var i=0,l=clicksToUntrack.length;for(i;l>i;i++)$(clicksToUntrack[i].sel).off("click.gravy.analytics")}}(jQuery),gravy.namespace("tracking"),gravy.tracking.version="0.0.1",gravy.tracking.redemption=function(){"use strict";return function(qs){qs="undefined"!=typeof qs?qs:"srcid";var parameter=String(gravy.queryString.get(qs)),rCookie=gravy.cookies.get("referral_cookie");return gravy.cookies.get("referral_cookie")&&"false"===parameter||(gravy.cookies.get("referral_cookie")&&"false"!==parameter?(rCookie=parameter,gravy.cookies.set("referral_cookie",rCookie,30)):"false"!==parameter&&(rCookie=parameter,gravy.cookies.set("referral_cookie",rCookie,30))),qs}}();